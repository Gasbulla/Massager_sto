#Документирование API в Java приложении с помощью Swagger и OpenAPI 3.0

Веб-приложение часто содержит API для взаимодействия с ним. Документирование API позволит клиентам быстрее понять, как использовать ваши сервисы. Если API закрыт от внешнего мира, то все равно стоит уделить время спецификации — это поможет вашим новым коллегам быстрее разобраться с системой.

Создание документации вручную — утомительный процесс. Swagger поможет вам упростить эту работу.

##Что такое Swagger?

Swagger автоматически генерирует документацию API в виде json. А проект Springdoc создаст удобный UI для визуализации. Вы не только сможете просматривать документацию, но и отправлять запросы, и получать ответы.

Также возможно сгенерировать непосредственно клиента или сервер по спецификации API Swagger, для этого нужен генератор кода Swagger-Codegen.

Swagger использует декларативный подход. Размечаем аннотациями методы, параметры, DTO.

Swagger автоматически находит список всех контроллеров, определенных в нашем приложении. При нажатии на любой из них будут перечислены допустимые методы HTTP (DELETE, GET, HEAD, OPTIONS, PATCH, POST, PUT).

Для каждого метода доступные следующие данные: статус ответа, тип содержимого и список параметров.

##Swagger Tools
Swagger или OpenAPI framework состоит из 4 основных компонентов:

**Swagger Core** - позволяет генерировать документацию на основе существующего кода основываясь на Java Annotation.

**Swagger Codegen** - позволит генерировать клиентов для существующей документации.

**Swagger UI** - красивый интерфейс, который представляет документацию. Дает возможность просмотреть какие типы запросов есть, описание моделей и их типов данных.

**Swagger Editor** - Позволяет писать документацию в YAML или JSON формата.

###Документация находится по адресу: http://localhost:8091/swagger-ui.html

###Для пробного запуска используйте "SwaggerApplication".

После добавление нужных нам зависимостей, у нас появятся новые аннотация с помощью которых можно документировать наш код.

Вот некоторые из них:

**@Operation** - Описывает операцию или обычно метод HTTP для определенного пути.

**@Parameter** - Представляет один параметр в операции OpenAPI.

**@RequestBody** - Представляет тело запроса в операции

**@ApiResponse** - Представляет ответ в операции

**@Tag** - Представляет теги для операции или определения OpenAPI.

**@Server** - Представляет серверы для операции или для определения OpenAPI.

**@Callback** - Описывает набор запросов

**@Link** - Представляет возможную ссылку времени разработки для ответа.

**@Schema** - Позволяет определять входные и выходные данные.

**@ArraySchema** - Позволяет определять входные и выходные данные для типов массивов.

**@Content** - Предоставляет схему и примеры для определенного типа мультимедиа.

**@Hidden** - Скрывает ресурс, операцию или свойство

###Примеры использования:

````
@Tag(name = "User", description = "The User API")
@RestController
public class UserController {}
````

````
@Operation(summary = "Gets all users", tags = "user")
@ApiResponses(value = {
    @ApiResponse(
        responseCode = "200",
        description = "Found the users",
        content = {
            @Content(
                mediaType = "application/json",
                array = @ArraySchema(schema = @Schema(implementation = UserApi.class)))
        })
})
@GetMapping("/users")
public List<UserApi> getUsers()
````